(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"1Ff/":function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(){this.actualpage=0,this.filterRequest={object:{},pageNumber:0,pageSize:10}}initPaginated(){this.pagesize=10,this.actualpage=1,this.arrayvalueitemsperpage=["5","10","20","50","100"]}calculatePage(){this.filterRequest.pageNumber=this.actualpage-1,this.filterRequest.pageSize=this.pagesize}resetPaginated(){this.actualpage=0,this.filterRequest.pageSize=0,this.filterForm.reset()}}},"2Yyj":function(e,t,n){var i,o,r;!function(s){if("object"==typeof e.exports){var c=s(0,t);void 0!==c&&(e.exports=c)}else o=[n,t],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","X","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",n,"{1}, {0}",n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[n,"$"],BRL:[n,"R$"],CNY:[n,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],RON:[n,"L"],THB:["\u0e3f"],TWD:[n,"NT$"],USD:["US$","$"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]})},Ht1U:function(e,t,n){"use strict";n.d(t,"a",function(){return ee});var i=n("tyNb"),o=n("mrSG"),r=n("nPby"),s=n("SxV6"),c=n("fXoL"),a=n("J9tS"),b=n("fB2i"),l=n("3Pt+"),d=n("ofXK");function u(e,t){1&e&&c.Ub(0,"span",10)}const h=function(){return["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount","emoticons"]},p=function(e){return{base_url:"/tinymce",suffix:".min",height:150,menubar:!1,language:"es_MX",language_url:"../../assets/langs/es_MX.js",plugins:e,toolbar:"undo redo | bold italic | removeformat | emoticons"}};let g=(()=>{class e{constructor(e,t,n,i,o){this.commentService=e,this.topicService=t,this.route=n,this.router=i,this.accountService=o,this.loading=!1,this.chars=144,this.currentUser=this.accountService.userValue}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){this.id=this.route.snapshot.params.id,yield this.topicService.getById(this.id).pipe(Object(s.a)()).subscribe(e=>{this.topic=e.element})})}saveComment(){return Object(o.a)(this,void 0,void 0,function*(){this.loading=!0;var e=new r.f;e.body=this.message,e.status="aprobado",e.userId=this.currentUser.userId,e.topicId=this.topic.topicId,e.active=!0,yield this.commentService.create(e).subscribe(e=>{console.log("mensage: "+this.message),this.getBack()},e=>{console.log(e),this.getBack()})})}getBack(){this.loading=!1,console.log("/forum/comments/"+this.topic.topicId),this.router.navigateByUrl("/forum/comments/"+this.topic.topicId)}showStats(){this.chars=144-this.getStats().chars}getStats(){return{chars:this.message.length,words:this.message.split(/[\w\u2019\'-]+/).length}}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(a.c),c.Tb(a.e),c.Tb(i.a),c.Tb(i.c),c.Tb(a.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-comment-editor"]],decls:16,vars:9,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"bi-person-lines-fill",2,"color","black","margin-right","8px"],[3,"ngModel","init","onSelectionChange","ngModelChange"],[2,"text-align","right"],[1,"btn","btn-primary","me-2",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"bi-pencil-square",2,"color","white","margin-right","8px"],[1,"btn","btn-secondary",3,"click"],[1,"bi-backspace-fill",2,"color","white","margin-right","8px"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"h4"),c.Ub(3,"i",2),c.Jc(4),c.Xb(),c.Yb(5,"editor",3),c.ic("onSelectionChange",function(){return t.showStats()})("ngModelChange",function(e){return t.message=e}),c.Xb(),c.Jc(6),c.Ub(7,"hr"),c.Yb(8,"div",4),c.Yb(9,"button",5),c.ic("click",function(){return t.saveComment()}),c.Hc(10,u,1,0,"span",6),c.Ub(11,"i",7),c.Jc(12,"Publicar "),c.Xb(),c.Yb(13,"button",8),c.ic("click",function(){return t.getBack()}),c.Ub(14,"i",9),c.Jc(15,"Cancelar "),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Hb(4),c.Lc(" Publica tu comentario sobre ",null==t.topic?null:t.topic.name," "),c.Hb(1),c.rc("ngModel",t.message)("init",c.vc(7,p,c.uc(6,h))),c.Hb(1),c.Lc(" Caracteres restantes: ",t.chars," "),c.Hb(3),c.rc("disabled",t.loading),c.Hb(1),c.rc("ngIf",t.loading))},directives:[b.a,l.i,l.k,d.m],encapsulation:2}),e})();var m=n("1Ff/"),f=n("2Yyj"),v=n.n(f),C=n("oOf3");function X(e,t){if(1&e&&(c.Yb(0,"option",26),c.Jc(1),c.Xb()),2&e){const e=t.$implicit;c.rc("value",e),c.Hb(1),c.Lc(" ",e," ")}}function Y(e,t){1&e&&c.Ub(0,"span",32)}function w(e,t){1&e&&(c.Yb(0,"span"),c.Ub(1,"i",33),c.Jc(2,"Borrar"),c.Xb())}function y(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",30),c.ic("click",function(){c.Cc(e);const t=c.kc().$implicit;return c.kc().deleteComment(t.commentId)}),c.Hc(1,Y,1,0,"span",31),c.Hc(2,w,3,0,"span",14),c.Xb()}if(2&e){const e=c.kc().$implicit;c.rc("disabled",e.isDeleting),c.Hb(1),c.rc("ngIf",e.isDeleting),c.Hb(1),c.rc("ngIf",!e.isDeleting)}}function S(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Ub(2,"div",27),c.Xb(),c.Yb(3,"td"),c.Jc(4),c.Xb(),c.Yb(5,"td"),c.Jc(6),c.Xb(),c.Yb(7,"td"),c.Jc(8),c.Xb(),c.Yb(9,"td"),c.Jc(10),c.lc(11,"date"),c.Xb(),c.Yb(12,"td",28),c.Hc(13,y,3,3,"button",29),c.Xb(),c.Xb()),2&e){const e=t.$implicit,n=c.kc();c.Hb(2),c.rc("innerHtml",e.body,c.Dc),c.Hb(2),c.Mc("",e.user.firstName,", ",e.user.lastName,""),c.Hb(2),c.Kc(e.status),c.Hb(2),c.Kc(e.active?"S\xed":"No"),c.Hb(2),c.Kc(c.oc(11,7,e.created,"EEEE d 'de' MMMM y HH:mm:ss","-0600","es")),c.Hb(3),c.rc("ngIf",n.isAdmin)}}function H(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td",34),c.Ub(2,"span",35),c.Xb(),c.Xb())}function I(e,t){1&e&&c.Ub(0,"span",36)}const M=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};let k=(()=>{class e extends m.a{constructor(e,t,n,i){super(),this.commentService=e,this.topicService=t,this.route=n,this.accountService=i,this.loading=!1,this.isAdmin=!1,Object(d.z)(v.a,"es"),this.isAdmin="Administrador"==this.accountService.userValue.role.roleName}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){this.id=this.route.snapshot.params.id,yield this.topicService.getById(this.id).pipe(Object(s.a)()).subscribe(e=>{this.currentTopic=e.element}),this.initPaginated(),this.getPage(1)})}deleteComment(e){const t=this.commentsCollection.find(t=>t.commentId===e);t&&(t.isDeleting=!0,this.commentService.delete(e).pipe(Object(s.a)()).subscribe(()=>this.commentsCollection=this.commentsCollection.filter(t=>t.commentId!==e)))}getPage(e){return Object(o.a)(this,void 0,void 0,function*(){try{this.actualpage=e,this.calculatePage(),yield this.commentService.getAllByTopicId(this.id).subscribe(e=>{this.commentsCollection=e.listElements,this.page=e}),this.page&&(this.totalRegister=this.page.totalElements)}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(a.c),c.Tb(a.e),c.Tb(i.a),c.Tb(a.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-comments"]],features:[c.Eb],decls:51,vars:18,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"bi-person-lines-fill",2,"color","black","margin-right","8px"],[1,"row"],[1,"col","text-center"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[2,"width","50%"],[2,"width","10%"],[2,"width","5%"],[2,"width","20%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","5",1,"align-left"],[1,"small"],["colspan","7",1,"text-center"],["previousLabel","","nextLabel","",3,"pageChange"],["colspan","12"],[2,"float","right"],[1,"btn","btn-primary","me-2",3,"disabled","routerLink"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"bi-pencil-square",2,"color","white","margin-right","8px"],["routerLink","/forum",1,"btn","btn-secondary"],[1,"bi-backspace-fill",2,"color","white","margin-right","8px"],[3,"value"],[3,"innerHtml"],[2,"white-space","nowrap"],["class","btn btn-sm btn-danger btn-delete-comment",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-danger","btn-delete-comment",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],[1,"bi-trash-fill",2,"color","white","margin-right","8px"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"h4"),c.Ub(3,"i",2),c.Jc(4,"Comentarios acerca de: "),c.Yb(5,"strong"),c.Jc(6),c.Xb(),c.Xb(),c.Ub(7,"hr"),c.Yb(8,"div",3),c.Yb(9,"div",4),c.Yb(10,"label"),c.Jc(11,"Items por p\xe1gina: "),c.Xb(),c.Yb(12,"select",5),c.ic("ngModelChange",function(e){return t.pagesize=e})("change",function(){return t.getPage(1)}),c.Hc(13,X,2,2,"option",6),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"div",7),c.Yb(15,"table",8),c.Yb(16,"thead"),c.Yb(17,"tr"),c.Yb(18,"th",9),c.Jc(19,"Comentario"),c.Xb(),c.Yb(20,"th",10),c.Jc(21,"Autor"),c.Xb(),c.Yb(22,"th",11),c.Jc(23,"Status"),c.Xb(),c.Yb(24,"th",11),c.Jc(25,"Activo"),c.Xb(),c.Yb(26,"th",12),c.Jc(27,"Publicado"),c.Xb(),c.Ub(28,"th",10),c.Xb(),c.Xb(),c.Yb(29,"tbody"),c.Hc(30,S,14,12,"tr",13),c.lc(31,"paginate"),c.Hc(32,H,3,0,"tr",14),c.Yb(33,"tr"),c.Yb(34,"td"),c.Yb(35,"span",15),c.Yb(36,"strong",16),c.Jc(37),c.Xb(),c.Xb(),c.Xb(),c.Yb(38,"td",17),c.Yb(39,"span"),c.Yb(40,"pagination-controls",18),c.ic("pageChange",function(e){return t.getPage(e)}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(41,"tr"),c.Yb(42,"td",19),c.Yb(43,"div",20),c.Yb(44,"button",21),c.Hc(45,I,1,0,"span",22),c.Ub(46,"i",23),c.Jc(47,"Comentar "),c.Xb(),c.Yb(48,"button",24),c.Ub(49,"i",25),c.Jc(50,"Volver "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Hb(6),c.Kc(null==t.currentTopic?null:t.currentTopic.name),c.Hb(6),c.rc("ngModel",t.pagesize),c.Hb(1),c.rc("ngForOf",t.arrayvalueitemsperpage),c.Hb(17),c.rc("ngForOf",c.nc(31,11,t.commentsCollection,c.xc(14,M,t.pagesize,t.actualpage,t.totalRegister))),c.Hb(2),c.rc("ngIf",!t.commentsCollection),c.Hb(5),c.Nc(" Total de Registros: ",null==t.page?null:t.page.totalElements," | P\xe1gina ",null==t.page?null:t.page.pageNumber," de ",null==t.page?null:t.page.totalPages," "),c.Hb(7),c.tc("routerLink","/forum/comment-editor/",t.currentTopic.topicId,""),c.rc("disabled",t.loading),c.Hb(1),c.rc("ngIf",t.loading))},directives:[l.n,l.i,l.k,d.l,d.m,C.c,i.d,l.l,l.p],pipes:[C.b,d.d],encapsulation:2}),e})();function q(e,t){1&e&&(c.Yb(0,"h4"),c.Ub(1,"i",29),c.Jc(2,"Agregar T\xf3pico "),c.Xb())}function x(e,t){1&e&&(c.Yb(0,"h4"),c.Ub(1,"i",29),c.Jc(2,"Editar T\xf3pico "),c.Xb())}function P(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1,"T\xedtulo es obligatorio"),c.Xb())}function U(e,t){if(1&e&&(c.Yb(0,"div",30),c.Hc(1,P,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.name.errors.required)}}function O(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1," Resumen es obligatorio "),c.Xb())}function D(e,t){if(1&e&&(c.Yb(0,"div",30),c.Hc(1,O,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.summary.errors.required)}}function J(e,t){if(1&e&&(c.Yb(0,"option",31),c.Jc(1),c.Xb()),2&e){const e=t.$implicit;c.sc("value",e),c.Hb(1),c.Lc(" ",e," ")}}function T(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1,"Status es obligatorio"),c.Xb())}function E(e,t){if(1&e&&(c.Yb(0,"div",30),c.Hc(1,T,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.status.errors.required)}}function A(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1," Destacado es obligatorio "),c.Xb())}function R(e,t){if(1&e&&(c.Yb(0,"div",30),c.Hc(1,A,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.pinned.errors.required)}}function j(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1,"Activo es obligatorio"),c.Xb())}function N(e,t){if(1&e&&(c.Yb(0,"div",30),c.Hc(1,j,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.active.errors.required)}}function L(e,t){1&e&&c.Ub(0,"span",32)}const B=function(e){return{"is-invalid":e}};let F=(()=>{class e{constructor(e,t,n,i,o,r){this.fb=e,this.route=t,this.router=n,this.topicService=i,this.alertService=o,this.accountService=r,this.statuses=["aprobado","pendiente","desaprobado"],this.loading=!1,this.submitted=!1,this.activeLabel="No",this.pinnedLabel="No",this.currentUser=this.accountService.userValue}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=this.id<=0,this.isAddMode&&(this.currentTopic=new r.h),this.form=this.fb.group({topicid:["0"],name:["",l.o.required],summary:["",l.o.required],status:["aprobado",l.o.required],pinned:[!1,l.o.required],active:[!0,l.o.required],userid:[this.currentUser.userId.toString(),l.o.required]}),this.isAddMode||this.topicService.getById(this.id).pipe(Object(s.a)()).subscribe(e=>{this.currentTopic=e.element,this.form.patchValue(e.element),this.form.controls.topicid.patchValue(this.currentTopic.topicId),this.activeToggle()})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?this.createTopic():this.updateTopic())}createTopic(){this.topicService.create(this.form.value).pipe(Object(s.a)()).subscribe(()=>{this.alertService.success("Tema agregado",{keepAfterRouteChange:!0}),this.router.navigate(["/forum"],{relativeTo:this.route})}).add(()=>this.loading=!1)}updateTopic(){this.topicService.update(this.id,this.form.value).pipe(Object(s.a)()).subscribe(()=>{this.alertService.success("Tema actualizado",{keepAfterRouteChange:!0}),this.router.navigate(["/forum"],{relativeTo:this.route})}).add(()=>this.loading=!1)}activeToggle(){this.activeLabel=this.form.get("active").value?"S\xed":"No"}pinnedToggle(){this.pinnedLabel=this.form.get("active").value?"S\xed":"No"}onChangeStatus(e){}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(l.c),c.Tb(i.a),c.Tb(i.c),c.Tb(a.e),c.Tb(a.b),c.Tb(a.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-topic-editor"]],decls:57,vars:28,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","g-2"],[1,"form-group","col"],[1,"form-floating"],["type","text","formControlName","name","id","name",1,"form-control",3,"ngClass"],["for","name"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","summary","placeholder","Daniela","id","summary",1,"form-control",3,"ngClass"],["for","summary"],[1,"row","g-3"],["formControlName","status","id","status","aria-label","status",1,"form-select",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["for","role"],[2,"display","block","background-color","rgba(255, 255, 255)","border-radius","4px","padding-left","0.5rem","padding-top","0.2rem"],[2,"color","grey","font-size","small"],[1,"form-check","form-switch",2,"margin-top","0.3rem"],["type","checkbox","formControlName","pinned",1,"form-check-input",3,"ngClass","change"],["for","Pinned",1,"form-check-label"],["type","checkbox","formControlName","active",1,"form-check-input",3,"ngClass","change"],["for","Active",1,"form-check-label"],[1,"row"],[1,"form-group"],[2,"float","right"],[1,"btn","btn-primary","me-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/forum",1,"btn","btn-secondary"],[1,"bi-hash",2,"color","black","margin-right","8px"],[1,"invalid-feedback"],[3,"value"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Hc(2,q,3,0,"h4",2),c.Hc(3,x,3,0,"h4",2),c.Ub(4,"hr"),c.Yb(5,"form",3),c.ic("ngSubmit",function(){return t.onSubmit()}),c.Yb(6,"div",4),c.Yb(7,"div",5),c.Yb(8,"div",6),c.Ub(9,"input",7),c.Yb(10,"label",8),c.Jc(11,"T\xedtulo"),c.Xb(),c.Hc(12,U,2,1,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Ub(13,"br"),c.Yb(14,"div",4),c.Yb(15,"div",5),c.Yb(16,"div",6),c.Ub(17,"input",10),c.Yb(18,"label",11),c.Jc(19,"Resumen"),c.Xb(),c.Hc(20,D,2,1,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Ub(21,"br"),c.Yb(22,"div",12),c.Yb(23,"div",5),c.Yb(24,"div",6),c.Yb(25,"select",13),c.ic("change",function(e){return t.onChangeStatus(e)}),c.Hc(26,J,2,2,"option",14),c.Xb(),c.Yb(27,"label",15),c.Jc(28,"Status"),c.Xb(),c.Hc(29,E,2,1,"div",9),c.Xb(),c.Xb(),c.Yb(30,"div",5),c.Yb(31,"div",16),c.Yb(32,"label",17),c.Jc(33,"Fijado"),c.Xb(),c.Yb(34,"div",18),c.Yb(35,"input",19),c.ic("change",function(){return t.pinnedToggle()}),c.Xb(),c.Yb(36,"label",20),c.Jc(37),c.Xb(),c.Xb(),c.Hc(38,R,2,1,"div",9),c.Xb(),c.Xb(),c.Yb(39,"div",5),c.Yb(40,"div",16),c.Yb(41,"label",17),c.Jc(42,"Activo"),c.Xb(),c.Yb(43,"div",18),c.Yb(44,"input",21),c.ic("change",function(){return t.activeToggle()}),c.Xb(),c.Yb(45,"label",22),c.Jc(46),c.Xb(),c.Xb(),c.Hc(47,N,2,1,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Ub(48,"hr"),c.Yb(49,"div",23),c.Yb(50,"div",24),c.Yb(51,"div",25),c.Yb(52,"button",26),c.Hc(53,L,1,0,"span",27),c.Jc(54," Guardar "),c.Xb(),c.Yb(55,"button",28),c.Jc(56," Cancelar "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Hb(2),c.rc("ngIf",t.isAddMode),c.Hb(1),c.rc("ngIf",!t.isAddMode),c.Hb(2),c.rc("formGroup",t.form),c.Hb(4),c.rc("ngClass",c.vc(18,B,t.submitted&&t.f.name.errors)),c.Hb(3),c.rc("ngIf",t.submitted&&t.f.name.errors),c.Hb(5),c.rc("ngClass",c.vc(20,B,t.submitted&&t.f.name.errors)),c.Hb(3),c.rc("ngIf",t.submitted&&t.f.summary.errors),c.Hb(5),c.rc("ngClass",c.vc(22,B,t.submitted&&t.f.status.errors)),c.Hb(1),c.rc("ngForOf",t.statuses),c.Hb(3),c.rc("ngIf",t.submitted&&t.f.status.errors),c.Hb(6),c.rc("ngClass",c.vc(24,B,t.submitted&&t.f.pinned.errors)),c.Hb(2),c.Kc(t.pinnedLabel),c.Hb(1),c.rc("ngIf",t.submitted&&t.f.pinned.errors),c.Hb(6),c.rc("ngClass",c.vc(26,B,t.submitted&&t.f.active.errors)),c.Hb(2),c.Kc(t.activeLabel),c.Hb(1),c.rc("ngIf",t.submitted&&t.f.active.errors),c.Hb(5),c.rc("disabled",t.loading),c.Hb(1),c.rc("ngIf",t.loading))},directives:[d.m,l.q,l.j,l.e,l.b,l.i,l.d,d.k,l.n,d.l,l.a,i.d,l.l,l.p],encapsulation:2}),e})();function _(e,t){1&e&&(c.Yb(0,"a",23),c.Ub(1,"i",24),c.Jc(2,"Nuevo "),c.Xb())}function z(e,t){if(1&e&&(c.Yb(0,"option",25),c.Jc(1),c.Xb()),2&e){const e=t.$implicit;c.rc("value",e),c.Hb(1),c.Lc(" ",e," ")}}function K(e,t){if(1&e&&(c.Yb(0,"a",31),c.Ub(1,"i",32),c.Jc(2,"Editar"),c.Xb()),2&e){const e=c.kc().$implicit;c.tc("routerLink","/forum/topiceditor/",e.topicId,"")}}function V(e,t){if(1&e){const e=c.Zb();c.Yb(0,"a",33),c.ic("click",function(){c.Cc(e);const t=c.kc().$implicit;return c.kc().deleteTopic(t.topicId)}),c.Ub(1,"i",34),c.Jc(2,"Borrar"),c.Xb()}}function $(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Jc(2),c.Xb(),c.Yb(3,"td"),c.Jc(4),c.Xb(),c.Yb(5,"td"),c.Jc(6),c.Xb(),c.Yb(7,"td"),c.Jc(8),c.Xb(),c.Yb(9,"td"),c.Jc(10),c.Xb(),c.Yb(11,"td"),c.Jc(12),c.Xb(),c.Yb(13,"td"),c.Jc(14),c.lc(15,"date"),c.Xb(),c.Yb(16,"td",26),c.Yb(17,"a",27),c.Ub(18,"i",28),c.Jc(19,"Ver"),c.Xb(),c.Hc(20,K,3,1,"a",29),c.Hc(21,V,3,0,"a",30),c.Xb(),c.Xb()),2&e){const e=t.$implicit,n=c.kc();c.Hb(2),c.Kc(e.name),c.Hb(2),c.Mc("",e.user.firstName,", ",e.user.lastName,""),c.Hb(2),c.Kc(e.summary),c.Hb(2),c.Kc(e.status),c.Hb(2),c.Kc(e.pinned?"Si":"No"),c.Hb(2),c.Kc(e.active?"Si":"No"),c.Hb(2),c.Kc(c.oc(15,11,e.created,"full","-0300","es")),c.Hb(3),c.tc("routerLink","../comments/",e.topicId,""),c.Hb(3),c.rc("ngIf",n.isAdmin),c.Hb(1),c.rc("ngIf",n.isAdmin)}}function G(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td",35),c.Ub(2,"span",36),c.Xb(),c.Xb())}const Z=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};let Q=(()=>{class e extends m.a{constructor(e,t){super(),this.topicService=e,this.accountService=t,this.isAdmin=!1,this.currentUser=this.accountService.userValue,this.isAdmin="Administrador"==this.currentUser.role.roleName,Object(d.z)(v.a,"es")}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){yield this.topicService.getAll().subscribe(e=>{this.topicsCollection=e.listElements,this.page=e}),this.initPaginated()})}deleteTopic(e){const t=this.topicsCollection.find(t=>t.topicId===e);t&&(t.isDeleting=!0,this.topicService.delete(e).pipe(Object(s.a)()).subscribe(()=>this.topicsCollection=this.topicsCollection.filter(t=>t.topicId!==e)))}getPage(e){return Object(o.a)(this,void 0,void 0,function*(){try{this.actualpage=e,this.calculatePage(),yield this.topicService.getAll().subscribe(e=>{this.topicsCollection=e.listElements,this.page=e}),this.page&&(this.totalRegister=this.page.totalElements)}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(a.e),c.Tb(a.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-topics-list"]],features:[c.Eb],decls:48,vars:15,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"row"],[1,"col-10"],[1,"bi-megaphone-fill",2,"color","black","margin-right","8px"],[1,"col-2","text-center"],["routerLink","/forum/topiceditor/0","class","btn btn-sm btn-secondary mr-1",4,"ngIf"],[1,"col","text-center"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[2,"width","15%"],[2,"width","30%"],[2,"width","5%"],[2,"width","25%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","4",1,"align-left"],[1,"small"],["colspan","8",1,"text-center"],["previousLabel","","nextLabel","",3,"pageChange"],["routerLink","/forum/topiceditor/0",1,"btn","btn-sm","btn-secondary","mr-1"],[1,"bi-plus-circle",2,"color","white","margin-right","8px"],[3,"value"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-success","mr-1",3,"routerLink"],[1,"bi-eye-fill",2,"color","white","margin-right","8px"],["class","btn btn-sm btn-secondary mr-1",3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-danger mr-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary","mr-1",3,"routerLink"],[1,"bi-pencil-fill",2,"color","white","margin-right","8px"],[1,"btn","btn-sm","btn-danger","mr-1",3,"click"],[1,"bi-trash-fill",2,"color","white","margin-right","8px"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Yb(3,"div",3),c.Yb(4,"h4"),c.Ub(5,"i",4),c.Jc(6,"Foro de Usuarios "),c.Xb(),c.Xb(),c.Yb(7,"div",5),c.Hc(8,_,3,0,"a",6),c.Xb(),c.Xb(),c.Ub(9,"hr"),c.Yb(10,"div",2),c.Yb(11,"div",7),c.Yb(12,"label"),c.Jc(13,"Items por p\xe1gina: "),c.Xb(),c.Yb(14,"select",8),c.ic("ngModelChange",function(e){return t.pagesize=e})("change",function(){return t.getPage(1)}),c.Hc(15,z,2,2,"option",9),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"div",10),c.Yb(17,"table",11),c.Yb(18,"thead"),c.Yb(19,"tr"),c.Yb(20,"th",12),c.Jc(21,"T\xedtulo"),c.Xb(),c.Yb(22,"th",12),c.Jc(23,"Autor"),c.Xb(),c.Yb(24,"th",13),c.Jc(25,"Resumen"),c.Xb(),c.Yb(26,"th",14),c.Jc(27,"Status"),c.Xb(),c.Yb(28,"th",14),c.Jc(29,"Destacado"),c.Xb(),c.Yb(30,"th",14),c.Jc(31,"Activo"),c.Xb(),c.Yb(32,"th",15),c.Jc(33,"Publicado"),c.Xb(),c.Ub(34,"th",16),c.Xb(),c.Xb(),c.Yb(35,"tbody"),c.Hc(36,$,22,16,"tr",17),c.lc(37,"paginate"),c.Hc(38,G,3,0,"tr",18),c.Yb(39,"tr"),c.Yb(40,"td",19),c.Yb(41,"span"),c.Yb(42,"strong",20),c.Jc(43),c.Xb(),c.Xb(),c.Xb(),c.Yb(44,"td",21),c.Yb(45,"span"),c.Yb(46,"pagination-controls",22),c.ic("pageChange",function(e){return t.getPage(e)}),c.Xb(),c.Xb(),c.Xb(),c.Ub(47,"td"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Hb(8),c.rc("ngIf",t.isAdmin),c.Hb(6),c.rc("ngModel",t.pagesize),c.Hb(1),c.rc("ngForOf",t.arrayvalueitemsperpage),c.Hb(21),c.rc("ngForOf",c.nc(37,8,t.topicsCollection,c.xc(11,Z,t.pagesize,t.actualpage,t.totalRegister))),c.Hb(2),c.rc("ngIf",!t.topicsCollection),c.Hb(5),c.Nc(" Total de Registros: ",null==t.page?null:t.page.totalElements," | P\xe1gina ",null==t.page?null:t.page.pageNumber," de ",null==t.page?null:t.page.totalPages," "))},directives:[d.m,l.n,l.i,l.k,d.l,C.c,i.f,l.l,l.p],pipes:[C.b,d.d],encapsulation:2}),e})();const W=[{path:"",component:Q},{path:"topiclist",component:Q,pathMatch:"full"},{path:"comments/:id",component:k,pathMatch:"full"},{path:"comment-editor/:id",component:g,pathMatch:"full"},{path:"topiceditor/:id",component:F,pathMatch:"full"}];let ee=(()=>{class e{}return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(t){return new(t||e)},imports:[[i.g.forChild(W)],i.g]}),e})()},fB2i:function(e,t,n){"use strict";n.d(t,"a",function(){return X}),n.d(t,"b",function(){return Y}),n.d(t,"c",function(){return v});var i=n("fXoL"),o=n("ofXK"),r=n("3Pt+");function s(e,t){}const c=()=>{const e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null};let a=(()=>{class e{constructor(){this.onBeforePaste=new i.q,this.onBlur=new i.q,this.onClick=new i.q,this.onContextMenu=new i.q,this.onCopy=new i.q,this.onCut=new i.q,this.onDblclick=new i.q,this.onDrag=new i.q,this.onDragDrop=new i.q,this.onDragEnd=new i.q,this.onDragGesture=new i.q,this.onDragOver=new i.q,this.onDrop=new i.q,this.onFocus=new i.q,this.onFocusIn=new i.q,this.onFocusOut=new i.q,this.onKeyDown=new i.q,this.onKeyPress=new i.q,this.onKeyUp=new i.q,this.onMouseDown=new i.q,this.onMouseEnter=new i.q,this.onMouseLeave=new i.q,this.onMouseMove=new i.q,this.onMouseOut=new i.q,this.onMouseOver=new i.q,this.onMouseUp=new i.q,this.onPaste=new i.q,this.onSelectionChange=new i.q,this.onActivate=new i.q,this.onAddUndo=new i.q,this.onBeforeAddUndo=new i.q,this.onBeforeExecCommand=new i.q,this.onBeforeGetContent=new i.q,this.onBeforeRenderUI=new i.q,this.onBeforeSetContent=new i.q,this.onChange=new i.q,this.onClearUndos=new i.q,this.onDeactivate=new i.q,this.onDirty=new i.q,this.onExecCommand=new i.q,this.onGetContent=new i.q,this.onHide=new i.q,this.onInit=new i.q,this.onLoadContent=new i.q,this.onNodeChange=new i.q,this.onPostProcess=new i.q,this.onPostRender=new i.q,this.onPreInit=new i.q,this.onPreProcess=new i.q,this.onProgressState=new i.q,this.onRedo=new i.q,this.onRemove=new i.q,this.onReset=new i.q,this.onSaveContent=new i.q,this.onSetAttrib=new i.q,this.onObjectResizeStart=new i.q,this.onObjectResized=new i.q,this.onObjectSelected=new i.q,this.onSetContent=new i.q,this.onShow=new i.q,this.onSubmit=new i.q,this.onUndo=new i.q,this.onVisualAid=new i.q}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Ob({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),e})();const b=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"];let l=0;const d=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return l++,e+"_"+n+l+String(t)},u=e=>void 0!==e&&"textarea"===e.tagName.toLowerCase(),h=e=>void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" "),p=()=>{},g=e=>null==e,m=()=>({listeners:[],scriptId:d("tiny-script"),scriptLoaded:!1}),f=(()=>{let e=m();return{load:(t,n,i)=>{e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||((t,n,i,o)=>{const r=n.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=t,r.src=i;const s=()=>{r.removeEventListener("load",s),e.listeners.forEach(e=>e()),e.scriptLoaded=!0};r.addEventListener("load",s),n.head&&n.head.appendChild(r)})(e.scriptId,t,n))},reinitialize:()=>{e=m()}}})(),v=new i.u("TINYMCE_SCRIPT_SRC"),C={provide:r.h,useExisting:Object(i.ab)(()=>X),multi:!0};let X=(()=>{class e extends a{constructor(e,t,n,i){super(),this.platformId=n,this.tinymceScriptSrc=i,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change keyup undo redo",this.onTouchedCallback=p,this.onChangeCallback=p,this._elementRef=e,this.ngZone=t,this.initialise=this.initialise.bind(this)}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(g(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){Object(o.y)(this.platformId)&&(this.id=this.id||d("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==c()?this.initialise():this._element&&this._element.ownerDocument&&f.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==c()&&c().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(this._element.id=this.id,u(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const e=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(t=this.init&&this.init.plugins,n=this.plugins,h(t).concat(h(n))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,e.on("init",t=>{this.initEditor(e)}),((e,t)=>{b.forEach(n=>{const i=e[n];t.on(n.substring(2),n=>e.ngZone.run(()=>i.emit({event:n,editor:t})))})})(this,e),this.init&&"function"==typeof this.init.setup&&this.init.setup(e)}});var t,n;u(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{c().init(e)})}getScriptSrc(){return g(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){e.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),e.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(e.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{e.setContent(this.initialValue),this.onChangeCallback(e.getContent({format:this.outputFormat}))})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(i.o),i.Tb(i.F),i.Tb(i.I),i.Tb(v,8))},e.\u0275cmp=i.Nb({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar"},features:[i.Gb([C]),i.Eb],decls:1,vars:0,template:function(e,t){1&e&&i.Hc(0,s,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),e})(),Y=(()=>{class e{}return e.\u0275mod=i.Rb({type:e}),e.\u0275inj=i.Qb({factory:function(t){return new(t||e)},imports:[[o.b,r.f]]}),e})()}}]);