(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1Ff/":function(e,t,i){"use strict";i.d(t,"a",function(){return r});class r{constructor(){this.actualpage=0,this.filterRequest={object:{},pageNumber:0,pageSize:10}}initPaginated(){this.pagesize=10,this.actualpage=1,this.arrayvalueitemsperpage=["5","10","20","50","100"]}calculatePage(){this.filterRequest.pageNumber=this.actualpage-1,this.filterRequest.pageSize=this.pagesize}resetPaginated(){this.actualpage=0,this.filterRequest.pageSize=0,this.filterForm.reset()}}},"2Yyj":function(e,t,i){var r,o,n;!function(a){if("object"==typeof e.exports){var c=a(0,t);void 0!==c&&(e.exports=c)}else o=[i,t],void 0===(n="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=n)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0;t.default=["es",[["a.\xa0m.","p.\xa0m."],i,i],i,[["D","L","M","X","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],i,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],i,[["a. C.","d. C."],i,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",i,"{1}, {0}",i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[i,"$"],BRL:[i,"R$"],CNY:[i,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[i,"\xa3"],HKD:[i,"$"],ILS:[i,"\u20aa"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NZD:[i,"$"],RON:[i,"L"],THB:["\u0e3f"],TWD:[i,"NT$"],USD:["US$","$"],XAF:[],XCD:[i,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]})},ESCD:function(e,t,i){"use strict";i.r(t),i.d(t,"RolesModule",function(){return w});var r=i("ofXK"),o=i("tyNb"),n=i("3Pt+"),a=i("SxV6"),c=i("fXoL"),s=i("J9tS");function b(e,t){1&e&&(c.Yb(0,"h4"),c.Ub(1,"i",21),c.Jc(2,"Agregar Rol "),c.Xb())}function l(e,t){1&e&&(c.Yb(0,"h4"),c.Ub(1,"i",21),c.Jc(2,"Editar Rol "),c.Xb())}function d(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1," Nombre de rol es obligatorio "),c.Xb())}function u(e,t){if(1&e&&(c.Yb(0,"div",22),c.Hc(1,d,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.roleName.errors.required)}}function g(e,t){1&e&&(c.Yb(0,"div"),c.Jc(1,"Activo es obligatorio"),c.Xb())}function p(e,t){if(1&e&&(c.Yb(0,"div",22),c.Hc(1,g,2,0,"div",2),c.Xb()),2&e){const e=c.kc();c.Hb(1),c.rc("ngIf",e.f.active.errors.required)}}function m(e,t){1&e&&c.Ub(0,"span",23)}const f=function(e){return{"is-invalid":e}};let h=(()=>{class e{constructor(e,t,i,r,o){this.formBuilder=e,this.route=t,this.router=i,this.roleService=r,this.alertService=o,this.loading=!1,this.submitted=!1,this.activeLabel="S\xed"}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=this.id<=0,this.form=this.formBuilder.group({roleId:["0"],roleName:["",n.o.required],active:[!0,n.o.required]}),this.isAddMode||this.roleService.getById(this.id).pipe(Object(a.a)()).subscribe(e=>{this.currentRole=e.element,this.form.patchValue(e.element),this.form.controls.active.patchValue(e.element.active),this.activeToggle()})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?this.createRole():this.updateRole())}createRole(){this.roleService.create(this.form.value).pipe(Object(a.a)()).subscribe(()=>{this.alertService.success("Rol agregado",{keepAfterRouteChange:!0}),this.router.navigate(["/roles"],{relativeTo:this.route})}).add(()=>this.loading=!1)}updateRole(){this.roleService.update(this.id,this.form.value).pipe(Object(a.a)()).subscribe(()=>{this.alertService.success("Rol actualizado",{keepAfterRouteChange:!0}),this.router.navigate(["/roles"],{relativeTo:this.route})}).add(()=>this.loading=!1)}onChangeRole(e){this.form.controls.roleId.patchValue(e.target.value)}activeToggle(){this.activeLabel=this.form.get("active").value?"S\xed":"No"}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(n.c),c.Tb(o.a),c.Tb(o.c),c.Tb(s.d),c.Tb(s.b))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-role-editor"]],decls:31,vars:14,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","g-2"],[1,"form-group","col"],[1,"form-floating"],["type","text","formControlName","roleName","placeholder","Administrador","id","roleName",1,"form-control",3,"ngClass"],["for","name"],["class","invalid-feedback",4,"ngIf"],[2,"display","block","background-color","rgba(255, 255, 255)","border-radius","4px","padding-left","0.5rem","padding-top","0.2rem"],[2,"color","grey","font-size","small"],[1,"form-check","form-switch",2,"margin-top","0.3rem"],["type","checkbox","formControlName","active",1,"form-check-input",3,"ngClass","change"],["for","Active",1,"form-check-label"],[1,"row"],[1,"form-group"],[2,"float","right"],[1,"btn","btn-primary","me-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/roles",1,"btn","btn-secondary"],[1,"bi-tag-fill",2,"color","black","margin-right","8px"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Hc(2,b,3,0,"h4",2),c.Hc(3,l,3,0,"h4",2),c.Ub(4,"hr"),c.Yb(5,"form",3),c.ic("ngSubmit",function(){return t.onSubmit()}),c.Yb(6,"div",4),c.Yb(7,"div",5),c.Yb(8,"div",6),c.Ub(9,"input",7),c.Yb(10,"label",8),c.Jc(11,"Nombre"),c.Xb(),c.Hc(12,u,2,1,"div",9),c.Xb(),c.Xb(),c.Yb(13,"div",5),c.Yb(14,"div",10),c.Yb(15,"label",11),c.Jc(16,"Activo"),c.Xb(),c.Yb(17,"div",12),c.Yb(18,"input",13),c.ic("change",function(){return t.activeToggle()}),c.Xb(),c.Yb(19,"label",14),c.Jc(20),c.Xb(),c.Xb(),c.Hc(21,p,2,1,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Ub(22,"hr"),c.Yb(23,"div",15),c.Yb(24,"div",16),c.Yb(25,"div",17),c.Yb(26,"button",18),c.Hc(27,m,1,0,"span",19),c.Jc(28," Guardar "),c.Xb(),c.Yb(29,"button",20),c.Jc(30," Cancelar "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Hb(2),c.rc("ngIf",t.isAddMode),c.Hb(1),c.rc("ngIf",!t.isAddMode),c.Hb(2),c.rc("formGroup",t.form),c.Hb(4),c.rc("ngClass",c.vc(10,f,t.submitted&&t.f.roleName.errors)),c.Hb(3),c.rc("ngIf",t.submitted&&t.f.roleName.errors),c.Hb(6),c.rc("ngClass",c.vc(12,f,t.submitted&&t.f.active.errors)),c.Hb(2),c.Kc(t.activeLabel),c.Hb(1),c.rc("ngIf",t.submitted&&t.f.active.errors),c.Hb(5),c.rc("disabled",t.loading),c.Hb(1),c.rc("ngIf",t.loading))},directives:[r.m,n.q,n.j,n.e,n.b,n.i,n.d,r.k,n.a,o.d],encapsulation:2}),e})();var v=i("mrSG"),X=i("1Ff/"),Y=i("2Yyj"),H=i.n(Y),y=i("oOf3");function S(e,t){1&e&&(c.Yb(0,"a",20),c.Ub(1,"i",21),c.Jc(2,"Nuevo "),c.Xb())}function k(e,t){if(1&e&&(c.Yb(0,"option",22),c.Jc(1),c.Xb()),2&e){const e=t.$implicit;c.rc("value",e),c.Hb(1),c.Lc(" ",e," ")}}function I(e,t){if(1&e&&(c.Yb(0,"a",26),c.Ub(1,"i",27),c.Jc(2,"Editar"),c.Xb()),2&e){const e=c.kc().$implicit;c.tc("routerLink","../role-editor/",e.roleId,"")}}function x(e,t){if(1&e){const e=c.Zb();c.Yb(0,"a",28),c.ic("click",function(){c.Cc(e);const t=c.kc().$implicit;return c.kc().deleteRole(t.roleId)}),c.Ub(1,"i",29),c.Jc(2,"Borrar"),c.Xb()}}function N(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Jc(2),c.Xb(),c.Yb(3,"td"),c.Jc(4),c.Xb(),c.Yb(5,"td",23),c.Hc(6,I,3,1,"a",24),c.Hc(7,x,3,0,"a",25),c.Xb(),c.Xb()),2&e){const e=t.$implicit,i=c.kc();c.Hb(2),c.Kc(e.roleName),c.Hb(2),c.Kc(e.active?"Si":"No"),c.Hb(2),c.rc("ngIf",i.isAdmin),c.Hb(1),c.rc("ngIf",i.isAdmin)}}function M(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td",30),c.Ub(2,"span",31),c.Xb(),c.Xb())}const R=function(e,t,i){return{itemsPerPage:e,currentPage:t,totalItems:i}};let C=(()=>{class e extends X.a{constructor(e,t){super(),this.roleService=e,this.accountService=t,this.isAdmin=!1,this.currentUser=this.accountService.userValue,this.isAdmin="Administrador"==this.currentUser.role.roleName,Object(r.z)(H.a,"es")}ngOnInit(){return Object(v.a)(this,void 0,void 0,function*(){yield this.roleService.getAll().subscribe(e=>{this.rolesCollection=e.listElements,this.page=e}),this.initPaginated()})}deleteRole(e){const t=this.rolesCollection.find(t=>t.roleId===e);t&&(t.isDeleting=!0,this.roleService.delete(e).pipe(Object(a.a)()).subscribe(()=>this.rolesCollection=this.rolesCollection.filter(t=>t.roleId!==e)))}getPage(e){return Object(v.a)(this,void 0,void 0,function*(){try{this.actualpage=e,this.calculatePage(),yield this.roleService.getAll().subscribe(e=>{this.rolesCollection=e.listElements,this.page=e}),this.page&&(this.totalRegister=this.page.totalElements)}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(s.d),c.Tb(s.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-roles-list"]],features:[c.Eb],decls:38,vars:15,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"row"],[1,"col-10"],[1,"bi-tags-fill",2,"color","black","margin-right","8px"],[1,"col-2","text-center"],["routerLink","../role-editor/0","class","btn btn-sm btn-secondary mr-1",4,"ngIf"],[1,"col","text-center"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[2,"width","5%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","4",1,"align-left"],[1,"small"],["colspan","8",1,"text-center"],["previousLabel","","nextLabel","",3,"pageChange"],["routerLink","../role-editor/0",1,"btn","btn-sm","btn-secondary","mr-1"],[1,"bi-plus-circle",2,"color","white","margin-right","8px"],[3,"value"],[2,"white-space","nowrap"],["class","btn btn-sm btn-secondary mr-1",3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-danger mr-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary","mr-1",3,"routerLink"],[1,"bi-pencil-fill",2,"color","white","margin-right","8px"],[1,"btn","btn-sm","btn-danger","mr-1",3,"click"],[1,"bi-trash-fill",2,"color","white","margin-right","8px"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Yb(3,"div",3),c.Yb(4,"h4"),c.Ub(5,"i",4),c.Jc(6,"Roles de Usuarios "),c.Xb(),c.Xb(),c.Yb(7,"div",5),c.Hc(8,S,3,0,"a",6),c.Xb(),c.Xb(),c.Ub(9,"hr"),c.Yb(10,"div",2),c.Yb(11,"div",7),c.Yb(12,"label"),c.Jc(13,"Items por p\xe1gina: "),c.Xb(),c.Yb(14,"select",8),c.ic("ngModelChange",function(e){return t.pagesize=e})("change",function(){return t.getPage(1)}),c.Hc(15,k,2,2,"option",9),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"div",10),c.Yb(17,"table",11),c.Yb(18,"thead"),c.Yb(19,"tr"),c.Yb(20,"th",12),c.Jc(21,"Nombre"),c.Xb(),c.Yb(22,"th",12),c.Jc(23,"Activo"),c.Xb(),c.Ub(24,"th",13),c.Xb(),c.Xb(),c.Yb(25,"tbody"),c.Hc(26,N,8,4,"tr",14),c.lc(27,"paginate"),c.Hc(28,M,3,0,"tr",15),c.Yb(29,"tr"),c.Yb(30,"td",16),c.Yb(31,"span"),c.Yb(32,"strong",17),c.Jc(33),c.Xb(),c.Xb(),c.Xb(),c.Yb(34,"td",18),c.Yb(35,"span"),c.Yb(36,"pagination-controls",19),c.ic("pageChange",function(e){return t.getPage(e)}),c.Xb(),c.Xb(),c.Xb(),c.Ub(37,"td"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Hb(8),c.rc("ngIf",t.isAdmin),c.Hb(6),c.rc("ngModel",t.pagesize),c.Hb(1),c.rc("ngForOf",t.arrayvalueitemsperpage),c.Hb(11),c.rc("ngForOf",c.nc(27,8,t.rolesCollection,c.xc(11,R,t.pagesize,t.actualpage,t.totalRegister))),c.Hb(2),c.rc("ngIf",!t.rolesCollection),c.Hb(5),c.Nc(" Total de Registros: ",null==t.page?null:t.page.totalElements," | P\xe1gina ",null==t.page?null:t.page.pageNumber," de ",null==t.page?null:t.page.totalPages," "))},directives:[r.m,n.n,n.i,n.k,r.l,y.c,o.f,n.l,n.p],pipes:[y.b],encapsulation:2}),e})();const J=[{path:"",component:C},{path:"roleslist",component:C,pathMatch:"full"},{path:"role-editor/:id",component:h,pathMatch:"full"}];let A=(()=>{class e{}return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(J)],o.g]}),e})(),w=(()=>{class e{}return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(t){return new(t||e)},imports:[[r.b,n.f,n.m,A,y.a]]}),e})()}}]);