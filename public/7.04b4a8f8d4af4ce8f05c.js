(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1Ff/":function(e,t,i){"use strict";i.d(t,"a",function(){return n});class n{constructor(){this.actualpage=0,this.filterRequest={object:{},pageNumber:0,pageSize:10}}initPaginated(){this.pagesize=10,this.actualpage=1,this.arrayvalueitemsperpage=["5","10","20","50","100"]}calculatePage(){this.filterRequest.pageNumber=this.actualpage-1,this.filterRequest.pageSize=this.pagesize}resetPaginated(){this.actualpage=0,this.filterRequest.pageSize=0,this.filterForm.reset()}}},"2Yyj":function(e,t,i){var n,c,o;!function(r){if("object"==typeof e.exports){var a=r(0,t);void 0!==a&&(e.exports=a)}else c=[i,t],void 0===(o="function"==typeof(n=r)?n.apply(t,c):n)||(e.exports=o)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0;t.default=["es",[["a.\xa0m.","p.\xa0m."],i,i],i,[["D","L","M","X","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],i,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],i,[["a. C.","d. C."],i,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",i,"{1}, {0}",i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[i,"$"],BRL:[i,"R$"],CNY:[i,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[i,"\xa3"],HKD:[i,"$"],ILS:[i,"\u20aa"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NZD:[i,"$"],RON:[i,"L"],THB:["\u0e3f"],TWD:[i,"NT$"],USD:["US$","$"],XAF:[],XCD:[i,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]})},zuRS:function(e,t,i){"use strict";i.r(t),i.d(t,"CitiesModule",function(){return O});var n=i("ofXK"),c=i("tyNb"),o=i("mrSG"),r=i("1Ff/"),a=i("2Yyj"),s=i.n(a),b=i("SxV6"),d=i("fXoL"),l=i("+Woh"),u=i("J9tS"),g=i("3Pt+"),m=i("oOf3");function p(e,t){1&e&&(d.Yb(0,"a",21),d.Ub(1,"i",22),d.Jc(2,"Nuevo "),d.Xb())}function f(e,t){if(1&e&&(d.Yb(0,"option",23),d.Jc(1),d.Xb()),2&e){const e=t.$implicit;d.rc("value",e),d.Hb(1),d.Lc(" ",e," ")}}function h(e,t){if(1&e&&(d.Yb(0,"a",27),d.Ub(1,"i",28),d.Jc(2,"Editar"),d.Xb()),2&e){const e=d.kc().$implicit;d.tc("routerLink","../city-editor/",e.cityId,"")}}function v(e,t){if(1&e){const e=d.Zb();d.Yb(0,"a",29),d.ic("click",function(){d.Cc(e);const t=d.kc().$implicit;return d.kc().deleteCity(t.cityId)}),d.Ub(1,"i",30),d.Jc(2,"Borrar"),d.Xb()}}function X(e,t){if(1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Jc(2),d.Xb(),d.Yb(3,"td"),d.Jc(4),d.Xb(),d.Yb(5,"td"),d.Jc(6),d.Xb(),d.Yb(7,"td",24),d.Hc(8,h,3,1,"a",25),d.Hc(9,v,3,0,"a",26),d.Xb(),d.Xb()),2&e){const e=t.$implicit,i=d.kc();d.Hb(2),d.Kc(e.name),d.Hb(2),d.Kc(e.code),d.Hb(2),d.Kc(e.active?"Si":"No"),d.Hb(2),d.rc("ngIf",i.isAdmin),d.Hb(1),d.rc("ngIf",i.isAdmin)}}function Y(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"td",31),d.Ub(2,"span",32),d.Xb(),d.Xb())}const y=function(e,t,i){return{itemsPerPage:e,currentPage:t,totalItems:i}};let C=(()=>{class e extends r.a{constructor(e,t){super(),this.cityService=e,this.accountService=t,this.isAdmin=!1,this.currentUser=this.accountService.userValue,this.isAdmin="Administrador"==this.currentUser.role.roleName,Object(n.z)(s.a,"es")}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){yield this.cityService.getAll().subscribe(e=>{this.citiesCollection=e.listElements,console.log(this.citiesCollection),this.page=e}),this.initPaginated()})}deleteCity(e){console.log("delete id: ",e);const t=this.citiesCollection.find(t=>t.cityId===e);t&&(t.isDeleting=!0,this.cityService.delete(e).pipe(Object(b.a)()).subscribe(()=>this.citiesCollection=this.citiesCollection.filter(t=>t.cityId!==e)))}getPage(e){return Object(o.a)(this,void 0,void 0,function*(){try{this.actualpage=e,this.calculatePage(),yield this.cityService.getAll().subscribe(e=>{this.citiesCollection=e.listElements,this.page=e}),this.page&&(this.totalRegister=this.page.totalElements)}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(d.Tb(l.a),d.Tb(u.a))},e.\u0275cmp=d.Nb({type:e,selectors:[["app-cities-list"]],features:[d.Eb],decls:40,vars:15,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"row"],[1,"col-10"],[1,"bi-building",2,"color","black","margin-right","8px"],[1,"col-2","text-center"],["routerLink","../city-editor/0","class","btn btn-sm btn-secondary mr-1",4,"ngIf"],[1,"col","text-center"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"overflow-x","auto"],[1,"table","table-striped"],[2,"width","20%"],[2,"width","10%"],[2,"width","5%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","4",1,"align-left"],[1,"small"],["colspan","8",1,"text-center"],["previousLabel","","nextLabel","",3,"pageChange"],["routerLink","../city-editor/0",1,"btn","btn-sm","btn-secondary","mr-1"],[1,"bi-plus-circle",2,"color","white","margin-right","8px"],[3,"value"],[2,"white-space","nowrap"],["class","btn btn-sm btn-secondary mr-1",3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-danger mr-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary","mr-1",3,"routerLink"],[1,"bi-pencil-fill",2,"color","white","margin-right","8px"],[1,"btn","btn-sm","btn-danger","mr-1",3,"click"],[1,"bi-trash-fill",2,"color","white","margin-right","8px"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,t){1&e&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"div",3),d.Yb(4,"h4"),d.Ub(5,"i",4),d.Jc(6,"Ciudades "),d.Xb(),d.Xb(),d.Yb(7,"div",5),d.Hc(8,p,3,0,"a",6),d.Xb(),d.Xb(),d.Ub(9,"hr"),d.Yb(10,"div",2),d.Yb(11,"div",7),d.Yb(12,"label"),d.Jc(13,"Items por p\xe1gina: "),d.Xb(),d.Yb(14,"select",8),d.ic("ngModelChange",function(e){return t.pagesize=e})("change",function(){return t.getPage(1)}),d.Hc(15,f,2,2,"option",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(16,"div",10),d.Yb(17,"table",11),d.Yb(18,"thead"),d.Yb(19,"tr"),d.Yb(20,"th",12),d.Jc(21,"Nombre"),d.Xb(),d.Yb(22,"th",13),d.Jc(23,"C\xf3digo"),d.Xb(),d.Yb(24,"th",14),d.Jc(25,"Activo"),d.Xb(),d.Ub(26,"th",13),d.Xb(),d.Xb(),d.Yb(27,"tbody"),d.Hc(28,X,10,5,"tr",15),d.lc(29,"paginate"),d.Hc(30,Y,3,0,"tr",16),d.Yb(31,"tr"),d.Yb(32,"td",17),d.Yb(33,"span"),d.Yb(34,"strong",18),d.Jc(35),d.Xb(),d.Xb(),d.Xb(),d.Yb(36,"td",19),d.Yb(37,"span"),d.Yb(38,"pagination-controls",20),d.ic("pageChange",function(e){return t.getPage(e)}),d.Xb(),d.Xb(),d.Xb(),d.Ub(39,"td"),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&e&&(d.Hb(8),d.rc("ngIf",t.isAdmin),d.Hb(6),d.rc("ngModel",t.pagesize),d.Hb(1),d.rc("ngForOf",t.arrayvalueitemsperpage),d.Hb(13),d.rc("ngForOf",d.nc(29,8,t.citiesCollection,d.xc(11,y,t.pagesize,t.actualpage,t.totalRegister))),d.Hb(2),d.rc("ngIf",!t.citiesCollection),d.Hb(5),d.Nc(" Total de Registros: ",null==t.page?null:t.page.totalElements," | P\xe1gina ",null==t.page?null:t.page.pageNumber," de ",null==t.page?null:t.page.totalPages," "))},directives:[n.m,g.n,g.i,g.k,n.l,m.c,c.f,g.l,g.p],pipes:[m.b],encapsulation:2}),e})();var H=i("1kSV");function S(e,t){1&e&&(d.Yb(0,"h4"),d.Ub(1,"i",25),d.Jc(2,"Agregar Ciudad "),d.Xb())}function I(e,t){1&e&&(d.Yb(0,"h4"),d.Ub(1,"i",25),d.Jc(2,"Editar Ciudad "),d.Xb())}function J(e,t){1&e&&(d.Yb(0,"div"),d.Jc(1," Nombre de la ciudad es obligatorio "),d.Xb())}function k(e,t){if(1&e&&(d.Yb(0,"div",26),d.Hc(1,J,2,0,"div",2),d.Xb()),2&e){const e=d.kc();d.Hb(1),d.rc("ngIf",e.f.name.errors.required)}}function M(e,t){if(1&e&&(d.Yb(0,"option",27),d.Jc(1),d.Xb()),2&e){const e=t.$implicit;d.sc("value",e.code),d.Hb(1),d.Mc(" ",e.name," -- ",e.code," ")}}function x(e,t){1&e&&(d.Yb(0,"p"),d.Jc(1,"Si no encuentra la ciudad deseada, elige la m\xe1s cerna"),d.Xb())}function A(e,t){1&e&&(d.Yb(0,"div"),d.Jc(1,"C\xf3digo de la ciudad es obligatorio"),d.Xb())}function N(e,t){if(1&e&&(d.Yb(0,"div",26),d.Hc(1,A,2,0,"div",2),d.Xb()),2&e){const e=d.kc();d.Hb(1),d.rc("ngIf",e.f.code.errors.required)}}function w(e,t){1&e&&(d.Yb(0,"div"),d.Jc(1,"Activo es obligatorio"),d.Xb())}function U(e,t){if(1&e&&(d.Yb(0,"div",26),d.Hc(1,w,2,0,"div",2),d.Xb()),2&e){const e=d.kc();d.Hb(1),d.rc("ngIf",e.f.active.errors.required)}}function j(e,t){1&e&&d.Ub(0,"span",28)}const P=function(e){return{"is-invalid":e}},z=[{path:"",component:C},{path:"citieslist",component:C,pathMatch:"full"},{path:"city-editor/:id",component:(()=>{class e{constructor(e,t,i,n,c){this.formBuilder=e,this.route=t,this.router=i,this.cityService=n,this.alertService=c,this.citiesCollection=[{name:"Bovril",code:42829},{name:"Caseros",code:42866},{name:"Chajari",code:42881},{name:"Col\xf3n",code:43437},{name:"Colonia San Justo",code:43326},{name:"Colonia Santa Maria",code:43350},{name:"Concepcion del Uruguay",code:42922},{name:"Concordia",code:42923},{name:"Crespo",code:42940},{name:"Federacion",code:42987},{name:"Federal",code:42988},{name:"Gualeguay",code:43033},{name:"Gualeguaych\xfa",code:43034},{name:"La Paz",code:43095},{name:"Larroque",code:43115},{name:"Los Conquistadores",code:43145},{name:"Paran\xe1",code:43214},{name:"San Gustavo",code:43317},{name:"San Jose de Feliciano",code:43321},{name:"Macia",code:43157},{name:"Santa Ana",code:43340},{name:"Santa Elena",code:43344},{name:"Sauce de luna",code:43364},{name:"Segui",code:43366},{name:"Tabossi",code:43376},{name:"Ubajay",code:43401},{name:"Victoria",code:43416},{name:"Villaguay",code:43464},{name:"Villa elisa",code:43437},{name:"Villa Hernandarias",code:43443}],this.loading=!1,this.submitted=!1,this.activeLabel="S\xed"}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=this.id<=0,this.form=this.formBuilder.group({cityId:["0"],name:["",g.o.required],code:["",g.o.required],active:[!0,g.o.required]}),this.isAddMode||this.cityService.getById(this.id).pipe(Object(b.a)()).subscribe(e=>{this.currentCity=e.element,this.form.patchValue(e.element),this.form.controls.active.patchValue(e.element.active),this.activeToggle()})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?this.createCity():this.updateCity())}createCity(){this.cityService.create(this.form.value).pipe(Object(b.a)()).subscribe(()=>{this.alertService.success("Ciudad agregada",{keepAfterRouteChange:!0}),this.router.navigate(["/cities"],{relativeTo:this.route})}).add(()=>this.loading=!1)}updateCity(){this.cityService.update(this.id,this.form.value).pipe(Object(b.a)()).subscribe(()=>{this.alertService.success("Ciudad actualizada",{keepAfterRouteChange:!0}),this.router.navigate(["/cities"],{relativeTo:this.route})}).add(()=>this.loading=!1)}activeToggle(){this.activeLabel=this.form.get("active").value?"S\xed":"No"}cityChange(e){}}return e.\u0275fac=function(t){return new(t||e)(d.Tb(g.c),d.Tb(c.a),d.Tb(c.c),d.Tb(l.a),d.Tb(u.b))},e.\u0275cmp=d.Nb({type:e,selectors:[["app-city-editor"]],decls:40,vars:20,consts:[[1,"p-4"],[1,"container",2,"background-color","rgba(255, 255, 255, 0.4)","border-radius","4px","padding","10px 10px","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"form-group","col"],[1,"form-floating"],["type","text","formControlName","name","placeholder","Administrador","id","name",1,"form-control",3,"ngClass"],["for","name"],["class","invalid-feedback",4,"ngIf"],["formControlName","code","id","code","aria-label","code",1,"form-select",3,"ngClass","ngbTooltip","change"],[3,"value",4,"ngFor","ngForOf"],["tipContent",""],["for","code","data-bs-toggle","popover","title","Popover title","data-bs-content","And here's some amazing content. It's very engaging. Right?"],[2,"display","block","background-color","rgba(255, 255, 255)","border-radius","4px","padding-left","0.5rem","padding-top","0.2rem"],[2,"color","grey","font-size","small"],[1,"form-check","form-switch",2,"margin-top","0.3rem"],["type","checkbox","formControlName","active",1,"form-check-input",3,"ngClass","change"],["for","Active",1,"form-check-label"],[1,"row"],[1,"form-group"],[2,"float","right"],[1,"btn","btn-primary","me-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/cities",1,"btn","btn-secondary"],[1,"bi-building",2,"color","black","margin-right","8px"],[1,"invalid-feedback"],[3,"value"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){if(1&e&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Hc(2,S,3,0,"h4",2),d.Hc(3,I,3,0,"h4",2),d.Ub(4,"hr"),d.Yb(5,"form",3),d.ic("ngSubmit",function(){return t.onSubmit()}),d.Yb(6,"div",4),d.Yb(7,"div",5),d.Yb(8,"div",6),d.Ub(9,"input",7),d.Yb(10,"label",8),d.Jc(11,"Nombre"),d.Xb(),d.Hc(12,k,2,1,"div",9),d.Xb(),d.Xb(),d.Yb(13,"div",5),d.Yb(14,"div",6),d.Yb(15,"select",10),d.ic("change",function(e){return t.cityChange(e)}),d.Hc(16,M,2,3,"option",11),d.Xb(),d.Hc(17,x,2,0,"ng-template",null,12,d.Ic),d.Yb(19,"label",13),d.Jc(20,"C\xf3digo"),d.Xb(),d.Hc(21,N,2,1,"div",9),d.Xb(),d.Xb(),d.Yb(22,"div",5),d.Yb(23,"div",14),d.Yb(24,"label",15),d.Jc(25,"Activo"),d.Xb(),d.Yb(26,"div",16),d.Yb(27,"input",17),d.ic("change",function(){return t.activeToggle()}),d.Xb(),d.Yb(28,"label",18),d.Jc(29),d.Xb(),d.Xb(),d.Hc(30,U,2,1,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Ub(31,"hr"),d.Yb(32,"div",19),d.Yb(33,"div",20),d.Yb(34,"div",21),d.Yb(35,"button",22),d.Hc(36,j,1,0,"span",23),d.Jc(37," Guardar "),d.Xb(),d.Yb(38,"button",24),d.Jc(39," Cancelar "),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&e){const e=d.zc(18);d.Hb(2),d.rc("ngIf",t.isAddMode),d.Hb(1),d.rc("ngIf",!t.isAddMode),d.Hb(2),d.rc("formGroup",t.form),d.Hb(4),d.rc("ngClass",d.vc(14,P,t.submitted&&t.f.name.errors)),d.Hb(3),d.rc("ngIf",t.submitted&&t.f.name.errors),d.Hb(3),d.rc("ngClass",d.vc(16,P,t.submitted&&t.f.code.errors))("ngbTooltip",e),d.Hb(1),d.rc("ngForOf",t.citiesCollection),d.Hb(5),d.rc("ngIf",t.submitted&&t.f.code.errors),d.Hb(6),d.rc("ngClass",d.vc(18,P,t.submitted&&t.f.active.errors)),d.Hb(2),d.Kc(t.activeLabel),d.Hb(1),d.rc("ngIf",t.submitted&&t.f.active.errors),d.Hb(5),d.rc("disabled",t.loading),d.Hb(1),d.rc("ngIf",t.loading)}},directives:[n.m,g.q,g.j,g.e,g.b,g.i,g.d,n.k,g.n,H.c,n.l,g.a,c.d,g.l,g.p],encapsulation:2}),e})(),pathMatch:"full"}];let L=(()=>{class e{}return e.\u0275mod=d.Rb({type:e}),e.\u0275inj=d.Qb({factory:function(t){return new(t||e)},imports:[[c.g.forChild(z)],c.g]}),e})(),O=(()=>{class e{}return e.\u0275mod=d.Rb({type:e}),e.\u0275inj=d.Qb({factory:function(t){return new(t||e)},imports:[[n.b,g.f,g.m,L,m.a,H.a]]}),e})()}}]);