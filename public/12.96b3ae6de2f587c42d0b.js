(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{jcJX:function(r,e,i){"use strict";i.r(e),i.d(e,"AccountModule",function(){return B});var o=i("3Pt+"),t=i("ofXK"),s=i("tyNb"),n=i("fXoL"),c=i("5ZPe");let a=(()=>{class r{constructor(r,e){this.router=r,this.accountService=e,this.accountService.userValue&&this.router.navigate(["/"])}}return r.\u0275fac=function(e){return new(e||r)(n.Tb(s.c),n.Tb(c.a))},r.\u0275cmp=n.Nb({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,e){1&r&&n.Ub(0,"router-outlet")},directives:[s.h],encapsulation:2}),r})();var b=i("SxV6"),d=i("vJCe"),l=i("J9tS");function m(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"Nombre de Usuario es obligatorio"),n.Xb())}function u(r,e){if(1&r&&(n.Yb(0,"div",22),n.Hc(1,m,2,0,"div",23),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.username.errors.required)}}function f(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"La contrase\xf1a es obligatoria"),n.Xb())}function p(r,e){if(1&r&&(n.Yb(0,"div",22),n.Hc(1,f,2,0,"div",23),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.password.errors.required)}}function g(r,e){1&r&&n.Ub(0,"span",24)}const v=function(r){return{"is-invalid":r}};let h=(()=>{class r{constructor(r,e,i,o,t){this.formBuilder=r,this.chatService=e,this.router=i,this.accountService=o,this.alertService=t,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",o.o.required],password:["",o.o.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(b.a)()).subscribe({next:r=>{r.chatEmail=r.email,r.nick=r.firstName+" "+r.lastName,this.chatService.setActualChatUser(r),this.router.navigateByUrl(r.returnUrl||"/")},error:()=>{this.loading=!1}}))}}return r.\u0275fac=function(e){return new(e||r)(n.Tb(o.c),n.Tb(d.a),n.Tb(s.c),n.Tb(l.a),n.Tb(l.b))},r.\u0275cmp=n.Nb({type:r,selectors:[["app-login"]],decls:34,vars:11,consts:[[1,"p-4"],[1,"container"],[1,"col-md-6","offset-md-3","mt-5"],[1,"card",2,"background-color","rgba(255, 255, 255, 0.4)","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"card-header","cardtitle-custom"],[1,"bi-shield-lock-fill",2,"color","black","margin-right","8px"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-floating"],["type","text","formControlName","username","id","username","placeholder","usuario",1,"form-control",3,"ngClass"],["for","username"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","id","password","placeholder","contrase\xf1a",1,"form-control",3,"ngClass"],["for","password"],[1,"form-group",2,"float","right"],[1,"btn","btn-primary","me-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"bi-unlock-fill",2,"color","white","margin-right","8px"],["routerLink","../register",1,"btn","btn-secondary"],[1,"bi-pencil-square",2,"color","white","margin-right","8px"],[2,"text-align","center","color","yellowgreen"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.Yb(2,"div",2),n.Yb(3,"div",3),n.Yb(4,"h4",4),n.Ub(5,"i",5),n.Jc(6,"Ingresar"),n.Xb(),n.Yb(7,"div",6),n.Yb(8,"form",7),n.ic("ngSubmit",function(){return e.onSubmit()}),n.Yb(9,"div",8),n.Yb(10,"div",9),n.Ub(11,"input",10),n.Yb(12,"label",11),n.Jc(13,"Usuario *"),n.Xb(),n.Hc(14,u,2,1,"div",12),n.Xb(),n.Xb(),n.Ub(15,"br"),n.Yb(16,"div",8),n.Yb(17,"div",9),n.Ub(18,"input",13),n.Yb(19,"label",14),n.Jc(20,"Contrase\xf1a *"),n.Xb(),n.Hc(21,p,2,1,"div",12),n.Xb(),n.Xb(),n.Ub(22,"hr"),n.Yb(23,"div",15),n.Yb(24,"button",16),n.Hc(25,g,1,0,"span",17),n.Ub(26,"i",18),n.Jc(27," Ingresar "),n.Xb(),n.Yb(28,"button",19),n.Ub(29,"i",20),n.Jc(30,"Registrarse "),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Ub(31,"br"),n.Yb(32,"p",21),n.Jc(33,"admin / admin | user / user"),n.Xb(),n.Xb(),n.Xb(),n.Xb()),2&r&&(n.Hb(8),n.rc("formGroup",e.form),n.Hb(3),n.rc("ngClass",n.vc(7,v,e.submitted&&e.f.username.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.username.errors),n.Hb(4),n.rc("ngClass",n.vc(9,v,e.submitted&&e.f.password.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.password.errors),n.Hb(3),n.rc("disabled",e.loading),n.Hb(1),n.rc("ngIf",e.loading))},directives:[o.q,o.j,o.e,o.b,o.i,o.d,t.k,t.m,s.d],encapsulation:2}),r})();var X=i("XgRA"),Y=i("f5O9");function H(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"Al menos un Nombre es obligatorio"),n.Xb())}function w(r,e){if(1&r&&(n.Yb(0,"div",36),n.Hc(1,H,2,0,"div",37),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.firstName.errors.required)}}function C(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"Al menos un Apellido es obligatorio"),n.Xb())}function k(r,e){if(1&r&&(n.Yb(0,"div",36),n.Hc(1,C,2,0,"div",37),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.lastName.errors.required)}}function N(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"Nombre de Usuario es obligatorio"),n.Xb())}function J(r,e){if(1&r&&(n.Yb(0,"div",36),n.Hc(1,N,2,0,"div",37),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.username.errors.required)}}function U(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"El email es obligatorio"),n.Xb())}function y(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"El email deber ser una direcci\xf3n v\xe1lida"),n.Xb())}function I(r,e){if(1&r&&(n.Yb(0,"div",36),n.Hc(1,U,2,0,"div",37),n.Hc(2,y,2,0,"div",37),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.email.errors.required),n.Hb(1),n.rc("ngIf",r.f.email.errors.email)}}function x(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"La contrase\xf1a es obligatoria"),n.Xb())}function T(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"La contrase\xf1a de tener al menos 5 caracteres"),n.Xb())}function S(r,e){if(1&r&&(n.Yb(0,"div",36),n.Hc(1,x,2,0,"div",37),n.Hc(2,T,2,0,"div",37),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.password.errors.required),n.Hb(1),n.rc("ngIf",r.f.password.errors.minlength)}}function q(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"La confirmaci\xf3n de contrase\xf1a es obligatoria "),n.Xb())}function A(r,e){1&r&&(n.Yb(0,"div"),n.Jc(1,"Las contrase\xf1as deben coincidir "),n.Xb())}function L(r,e){if(1&r&&(n.Yb(0,"div",36),n.Hc(1,q,2,0,"div",37),n.Hc(2,A,2,0,"div",37),n.Xb()),2&r){const r=n.kc();n.Hb(1),n.rc("ngIf",r.f.confirmPassword.errors.required),n.Hb(1),n.rc("ngIf",r.f.confirmPassword.errors.mustMatch)}}function P(r,e){1&r&&n.Ub(0,"span",38)}const j=function(r){return{"is-invalid":r}},R=[{path:"",component:a},{path:"login",component:h,pathMatch:"full"},{path:"register",component:(()=>{class r{constructor(r,e,i,o,t){this.formBuilder=r,this.route=e,this.router=i,this.accountService=o,this.alertService=t,this.loading=!1,this.submitted=!1,this.termsLabel="No los acepto"}ngOnInit(){const r={validators:Object(X.b)("password","confirmPassword")};this.form=this.formBuilder.group({firstName:["",o.o.required],lastName:["",o.o.required],username:["",o.o.required],email:["",[o.o.required,o.o.email]],password:["",[o.o.minLength(6),o.o.required]],confirmPassword:["",o.o.required],TermsAndConditionsChecked:["",o.o.required]},r)}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid?this.termsLabel=this.form.get("TermsAndConditionsChecked").value?"Leidos y los acepto":"Aceptar los T\xe9rminos y Condiciones es obligatorio":(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(b.a)()).subscribe({next:()=>{this.alertService.success("Registraci\xf3n exitosa",{keepAfterRouteChange:!0}),this.router.navigate(["/login"],{relativeTo:this.route})},error:r=>{this.alertService.error(r),this.loading=!1}}))}termsToggle(){this.termsLabel=this.form.get("TermsAndConditionsChecked").value?"Leidos y los acepto":"No los acepto"}showTerms(){this.alertService.info("Terminos y condiciones: al pie de p\xe1gina")}}return r.\u0275fac=function(e){return new(e||r)(n.Tb(o.c),n.Tb(s.a),n.Tb(s.c),n.Tb(c.a),n.Tb(Y.a))},r.\u0275cmp=n.Nb({type:r,selectors:[["ng-component"]],decls:68,vars:31,consts:[[1,"p-4"],[1,"container"],[1,"col-md-6","offset-md-3","mt-5"],[1,"card",2,"background-color","rgba(255, 255, 255, 0.4)","box-shadow","0 0 25px -6px rgba(0, 0, 0, 0.9)"],[1,"card-header","cardtitle-custom"],[1,"bi-person-plus-fill",2,"color","black","margin-right","8px"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-floating"],["type","text","formControlName","firstName","id","firstName","placeholder","Nombres",1,"form-control",3,"ngClass"],["for","firstName"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName","id","lastName","placeholder","Apellidos",1,"form-control",3,"ngClass"],["for","lastName"],["type","text","formControlName","username","id","username","placeholder","usuario",1,"form-control",3,"ngClass"],["for","username"],["type","text","formControlName","email","id","email","placeholder","email",1,"form-control",3,"ngClass"],["for","email"],[1,"row"],[1,"form-group","col"],["type","password","formControlName","password","id","password","placeholder","password",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","confirmpassword",1,"form-control",3,"ngClass"],["for","confirmPassword"],[2,"display","block","background-color","rgba(255, 255, 255)","border-radius","4px","margin-top","16px","padding-left","0.5rem","padding-top","0.2rem"],[2,"color","rgb(0, 0, 0)","font-size","medium",3,"click"],[1,"form-check","form-switch",2,"margin-top","0.3rem"],["type","checkbox","formControlName","TermsAndConditionsChecked",1,"form-check-input",3,"ngClass","change"],["for","TermsAndConditionsCheckeds",1,"form-check-label"],[1,"form-group",2,"float","right"],[1,"btn","btn-primary","me-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"bi-pencil-square",2,"color","white","margin-right","8px"],["routerLink","../home",1,"btn","btn-secondary"],[1,"bi-x",2,"color","white","margin-right","8px"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.Yb(2,"div",2),n.Yb(3,"div",3),n.Yb(4,"h4",4),n.Ub(5,"i",5),n.Jc(6,"Registro "),n.Xb(),n.Yb(7,"div",6),n.Yb(8,"form",7),n.ic("ngSubmit",function(){return e.onSubmit()}),n.Yb(9,"div",8),n.Yb(10,"div",9),n.Ub(11,"input",10),n.Yb(12,"label",11),n.Jc(13,"Nombres *"),n.Xb(),n.Hc(14,w,2,1,"div",12),n.Xb(),n.Xb(),n.Ub(15,"br"),n.Yb(16,"div",8),n.Yb(17,"div",9),n.Ub(18,"input",13),n.Yb(19,"label",14),n.Jc(20,"Apellidos *"),n.Xb(),n.Hc(21,k,2,1,"div",12),n.Xb(),n.Xb(),n.Ub(22,"br"),n.Yb(23,"div",8),n.Yb(24,"div",9),n.Ub(25,"input",15),n.Yb(26,"label",16),n.Jc(27,"Nombre de Usuario *"),n.Xb(),n.Hc(28,J,2,1,"div",12),n.Xb(),n.Xb(),n.Ub(29,"br"),n.Yb(30,"div",8),n.Yb(31,"div",9),n.Ub(32,"input",17),n.Yb(33,"label",18),n.Jc(34,"Email *"),n.Xb(),n.Hc(35,I,3,2,"div",12),n.Xb(),n.Xb(),n.Ub(36,"br"),n.Yb(37,"div",19),n.Yb(38,"div",20),n.Yb(39,"div",9),n.Ub(40,"input",21),n.Yb(41,"label",22),n.Jc(42,"Contrase\xf1a *"),n.Xb(),n.Hc(43,S,3,2,"div",12),n.Xb(),n.Xb(),n.Yb(44,"div",20),n.Yb(45,"div",9),n.Ub(46,"input",23),n.Yb(47,"label",24),n.Jc(48,"Confirmar Contrase\xf1a *"),n.Xb(),n.Hc(49,L,3,2,"div",12),n.Xb(),n.Xb(),n.Xb(),n.Yb(50,"div",19),n.Yb(51,"div",20),n.Yb(52,"div",25),n.Yb(53,"label",26),n.ic("click",function(){return e.showTerms()}),n.Jc(54,"T\xe9rminos y Condiciones *"),n.Xb(),n.Yb(55,"div",27),n.Yb(56,"input",28),n.ic("change",function(){return e.termsToggle()}),n.Xb(),n.Yb(57,"label",29),n.Jc(58),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Ub(59,"hr"),n.Yb(60,"div",30),n.Yb(61,"button",31),n.Hc(62,P,1,0,"span",32),n.Ub(63,"i",33),n.Jc(64,"Registrar "),n.Xb(),n.Yb(65,"button",34),n.Ub(66,"i",35),n.Jc(67,"Cancelar "),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb()),2&r&&(n.Hb(8),n.rc("formGroup",e.form),n.Hb(3),n.rc("ngClass",n.vc(17,j,e.submitted&&e.f.firstName.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.firstName.errors),n.Hb(4),n.rc("ngClass",n.vc(19,j,e.submitted&&e.f.lastName.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.lastName.errors),n.Hb(4),n.rc("ngClass",n.vc(21,j,e.submitted&&e.f.username.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.username.errors),n.Hb(4),n.rc("ngClass",n.vc(23,j,e.submitted&&e.f.email.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.email.errors),n.Hb(5),n.rc("ngClass",n.vc(25,j,e.submitted&&e.f.password.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.password.errors),n.Hb(3),n.rc("ngClass",n.vc(27,j,e.submitted&&e.f.confirmPassword.errors)),n.Hb(3),n.rc("ngIf",e.submitted&&e.f.confirmPassword.errors),n.Hb(7),n.rc("ngClass",n.vc(29,j,e.submitted&&!e.f.TermsAndConditionsChecked.value)),n.Hb(2),n.Kc(e.termsLabel),n.Hb(3),n.rc("disabled",e.loading),n.Hb(1),n.rc("ngIf",e.loading))},directives:[o.q,o.j,o.e,o.b,o.i,o.d,t.k,t.m,o.a,s.d],encapsulation:2}),r})(),pathMatch:"full"}];let O=(()=>{class r{}return r.\u0275mod=n.Rb({type:r}),r.\u0275inj=n.Qb({factory:function(e){return new(e||r)},imports:[[s.g.forChild(R)],s.g]}),r})(),B=(()=>{class r{}return r.\u0275mod=n.Rb({type:r}),r.\u0275inj=n.Qb({factory:function(e){return new(e||r)},imports:[[t.b,o.m,O]]}),r})()}}]);